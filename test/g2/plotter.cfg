# This file contains pin mappings for the 2017 Creality CR-10S. To use
# this config, the firmware should be compiled for the AVR atmega2560.

# See the example.cfg file for a description of available parameters.

[stepper_x]
step_pin: ar54
dir_pin: ar55
enable_pin: !ar38
step_distance: .0125
endstop_pin: ^ar3
position_endstop: 0
position_max: 300
homing_speed: 50

[stepper_y]
step_pin: ar60
dir_pin: ar61
enable_pin: !ar56
step_distance: .0125
endstop_pin: ^ar14
position_endstop: 0
position_max: 300
homing_speed: 50

[stepper_z]
step_pin: ar46
dir_pin: !ar48
enable_pin: !ar62
step_distance: .0025
endstop_pin: probe:z_virtual_endstop
position_endstop: -0.5
position_min: -10
position_max: 350

[fan]
pin: ar9

[mcu]
serial: /dev/ttyUSB0
pin_map: arduino
baud: 250000

[printer]
kinematics: cartesian
max_velocity: 500
max_accel: 1250
max_z_velocity: 25
max_z_accel: 250

[display]
lcd_type: st7920
cs_pin: ar16
sclk_pin: ar23
sid_pin: ar17
encoder_pins: ^ar33, ^ar31
click_pin: ^!ar35

# [force_move]
# enable_force_move: true

[arc_support]
mm_per_step: 1
debug: True

[bltouch]
sensor_pin: ^ar18
control_pin: ar11
pin_move_time: 0.675
x_offset: 31
y_offset: 29
z_offset: 2.600

[homing_override]
gcode: G92 X0 Y0 Z0
axes: xyz
set_position_x: 0
set_position_y: 0
set_position_z: 0

[bed_mesh]
min_point: 5,5
max_point: 265,290
probe_count: 3,3

########################### scripts ###########################

[gcode_macro g29]
gcode =
    BED_MESH_CLEAR
    M117 Homing axis
    G28
    M117 Bed leveling
    BED_MESH_CALIBRATE
    M117 
    G1 X150 Y150 Z5 F3600


